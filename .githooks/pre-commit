#!/bin/sh
#
# Git pre-commit hook ç¤ºä¾‹
# 
# å®‰è£…æ–¹æ³•:
#   cp .githooks/pre-commit .git/hooks/pre-commit
#   chmod +x .git/hooks/pre-commit
#
# æˆ–è€…é…ç½®Gitä½¿ç”¨è¿™ä¸ªhooksç›®å½•:
#   git config core.hooksPath .githooks
#

echo "ğŸ” è¿è¡Œé¢„æäº¤æ£€æŸ¥..."

# è¿è¡Œé¢„æäº¤æµ‹è¯•è„šæœ¬
python pre_commit_test.py

# æ£€æŸ¥é€€å‡ºçŠ¶æ€
if [ $? -ne 0 ]; then
    echo ""
    echo "âŒ é¢„æäº¤æ£€æŸ¥å¤±è´¥!"
    echo "è¯·ä¿®å¤é—®é¢˜åé‡æ–°æäº¤ã€‚"
    echo ""
    echo "è·³è¿‡æ£€æŸ¥ (ä¸æ¨è): git commit --no-verify"
    exit 1
fi

echo "âœ… é¢„æäº¤æ£€æŸ¥é€šè¿‡!"
exit 0